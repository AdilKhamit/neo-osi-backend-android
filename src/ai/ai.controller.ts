import { Controller, Post, Body, UseGuards, Request, NotFoundException, Res, Param, Get, StreamableFile } from '@nestjs/common';
import { Response } from 'express';
import { UsersService } from '../users/users.service';
import { JwtAuthGuard } from '../auth/jwt-auth.guard';
import { GenerateDocumentDto } from './dto/generate-document.dto';
import { DocxService } from '../documents/docx/docx.service';
import { ChatHistoryService } from 'src/chat/history/history.service';
import { ChatAiService } from './chat-ai.service';
import { DocumentAiService } from './document-ai.service';
import { ChatType } from 'src/chat/entities/chat-message.entity';
import { createReadStream } from 'fs';
import { TEMPLATES_REGISTRY } from './templates.registry';

@Controller('ai')
export class AiController {
  constructor(
    private readonly chatAiService: ChatAiService,
    private readonly documentAiService: DocumentAiService,
    private readonly usersService: UsersService,
    private readonly docxService: DocxService,
    private readonly chatHistoryService: ChatHistoryService
  ) { }

  // 1. –ß–ê–¢ (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –¥–ª—è Android)
  @UseGuards(JwtAuthGuard)
  @Post('chat')
  async chatWithAssistant(@Request() req, @Body() generateDto: GenerateDocumentDto) {
    const userId = req.user.userId;
    if (!generateDto.prompt || generateDto.prompt.trim() === '') {
      return { aiResponse: { message: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å.', action: null } };
    }
    
    const response = await this.chatAiService.getChatAnswer(generateDto.prompt, userId);
    
    return { 
      aiResponse: { 
        message: response, 
        action: null 
      } 
    };
  }

  // 2. –ì–ï–ù–ï–†–ê–¶–ò–Ø –î–û–ö–£–ú–ï–ù–¢–û–í (–õ–æ–≥–∏–∫–∞ —Å –ª–∏–º–∏—Ç–∞–º–∏)
  @UseGuards(JwtAuthGuard)
  @Post('documents')
  async handleDocumentChat(@Request() req, @Body() generateDto: GenerateDocumentDto, @Res() res: Response) {
    const userId = req.user.userId;
    const user = await this.usersService.findOneById(userId);
    if (!user) throw new NotFoundException('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω.');

    if (!generateDto.prompt || generateDto.prompt.trim() === '') {
      return res.status(400).json({ aiResponse: { message: '–û–ø–∏—à–∏—Ç–µ, –∫–∞–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç –≤–∞–º –Ω—É–∂–µ–Ω.' } });
    }

    const isPremium = (user.tariff === 'Premium' || user.tariff === 'Plus') && 
                      (user.subscription_expires_at && new Date(user.subscription_expires_at) > new Date());

    const generationsUsed = user['generations_count'] || 0; 
    const FREE_LIMIT = 1;

    if (!isPremium && generationsUsed >= FREE_LIMIT) {
      const msg = `–í—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (1 –∏–∑ 1).\n–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –æ—Ñ–æ—Ä–º–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É NeoOSI Premium.`;
      
      return res.status(200).json({ 
        aiResponse: { 
          message: msg, 
          action: 'buy_subscription' 
        } 
      });
    }

    const response = await this.documentAiService.processDocumentMessage(generateDto.prompt, user);

    if (!isPremium) {
      try {
        const newCount = generationsUsed + 1;
        await this.usersService.update(userId, { generations_count: newCount } as any);
      } catch (e) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—á–µ—Ç—á–∏–∫–∞:', e);
      }
    }

    const content = response.type === 'file' ? `–î–æ–∫—É–º–µ–Ω—Ç ${response.fileName} —Å–æ–∑–¥–∞–Ω.` : JSON.stringify(response.content);
    await this.chatHistoryService.addMessageToHistory(userId, generateDto.prompt, content, ChatType.DOCUMENT);

    if (response.type === 'file') {
      res.setHeader('Content-Type', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document');
      res.setHeader('Content-Disposition', `attachment; filename="${response.fileName}"`);
      return res.send(response.content);
    } else {
      return res.status(200).json({ aiResponse: response.content });
    }
  }

  // 3. –°–ö–ê–ß–ò–í–ê–ù–ò–ï –§–ê–ô–õ–ê
  @UseGuards(JwtAuthGuard)
  @Get('documents/download/:fileId')
  async downloadDocument(@Request() req, @Param('fileId') fileId: string, @Res({ passthrough: true }) res: Response): Promise<StreamableFile> {
    const userId = req.user.userId;
    const doc = await this.documentAiService.getGeneratedDocument(fileId, userId);
    
    if (!doc) {
      throw new NotFoundException('–î–æ–∫—É–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω.');
    }

    const file = createReadStream(doc.storagePath);
    res.setHeader('Content-Type', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document');
    res.setHeader('Content-Disposition', `attachment; filename="${doc.originalFileName}"`);
    return new StreamableFile(file);
  }

  // 4. –°–ü–ò–°–û–ö –®–ê–ë–õ–û–ù–û–í
  @Get('templates') 
  getTemplates() {
    return Object.entries(TEMPLATES_REGISTRY).map(([fileName, config]) => ({
      id: fileName,
      title: config.name,
      category: config.category || "–û–±—â–µ–µ" 
    }));
  }

  // 5. üëá –û–ë–™–ï–î–ò–ù–ï–ù–ù–´–ô –°–ü–ò–°–û–ö –ß–ê–°–¢–´–• –í–û–ü–†–û–°–û–í (FAQ)
  @Get('faq')
  getFaq() {
    return [
      {
        question: "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –û–°–ò?",
        answer: "–î–∞, —Å–æ–≥–ª–∞—Å–Ω–æ –ó–∞–∫–æ–Ω—É –†–ö '–û –∂–∏–ª–∏—â–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö', –≤—Å–µ –∂–∏–ª—ã–µ –¥–æ–º–∞ –æ–±—è–∑–∞–Ω—ã –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –æ–¥–Ω—É –∏–∑ –¥–≤—É—Ö —Ñ–æ—Ä–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –ª–∏–±–æ –û–°–ò, –ª–∏–±–æ –ü—Ä–æ—Å—Ç–æ–µ —Ç–æ–≤–∞—Ä–∏—â–µ—Å—Ç–≤–æ (–ü–¢). –°—Ä–æ–∫ –ø–µ—Ä–µ—Ö–æ–¥–∞ –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–æ 1 –∏—é–ª—è 2023 –≥–æ–¥–∞."
      },
      {
        question: "–ö—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª–µ–º –û–°–ò?",
        answer: "–ü—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª–µ–º –û–°–ò –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –∫–≤–∞—Ä—Ç–∏—Ä—ã –∏–ª–∏ –Ω–µ–∂–∏–ª–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è –≤ –¥–∞–Ω–Ω–æ–º –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–º –∂–∏–ª–æ–º –¥–æ–º–µ, –∏–∑–±—Ä–∞–Ω–Ω—ã–π –Ω–∞ —Å–æ–±—Ä–∞–Ω–∏–∏."
      },
      {
        question: "–ö–∞–∫–∏–µ —Ñ–æ—Ä–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã –≤ –≥–ª–∞–≤–µ 7?",
        answer: "–ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–æ—Ä–º—ã: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –∏–º—É—â–µ—Å—Ç–≤–∞ (–û–°–ò) ‚Äî —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ, –∏ –ü—Ä–æ—Å—Ç–æ–µ —Ç–æ–≤–∞—Ä–∏—â–µ—Å—Ç–≤–æ (–ü–¢) ‚Äî –±–µ–∑ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞. –í—ã–±–æ—Ä —Ñ–æ—Ä–º—ã –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–≤–∞—Ä—Ç–∏—Ä –∏ —Ä–µ—à–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤."
      },
      {
        question: "–ß—Ç–æ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—å—è 43 –ó–∞–∫–æ–Ω–∞ '–û –∂–∏–ª–∏—â–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö'?",
        answer: "–°—Ç–∞—Ç—å—è 43 –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—é –û–±—â–µ–≥–æ —Å–æ–±—Ä–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤. –≠—Ç–æ –≤—ã—Å—à–∏–π –æ—Ä–≥–∞–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –æ –≤—ã–±–æ—Ä–µ —Ñ–æ—Ä–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ —Å–º–µ—Ç—ã, –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–∏ –∫–∞–ø—Ä–µ–º–æ–Ω—Ç–∞ –∏ –≤—ã–±–æ—Ä–µ –ø—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª—è."
      },
      {
        question: "–ß—Ç–æ —Ç–∞–∫–æ–µ —Å—Ç–∞—Ç—å—è 43-2 –∏ –∑–∞—á–µ–º –æ–Ω–∞ –≤–≤–µ–¥–µ–Ω–∞?",
        answer: "–≠—Ç–∞ —Å—Ç–∞—Ç—å—è —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –û–Ω–∞ –≤–≤–µ–¥–µ–Ω–∞, —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Å–±–æ—Ä –∫–≤–æ—Ä—É–º–∞ –∏ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º, –∏—Å–∫–ª—é—á–∞—è –ø–æ–¥–¥–µ–ª–∫—É –ø–æ–¥–ø–∏—Å–µ–π –Ω–∞ –±—É–º–∞–∂–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–∞—Ö."
      },
      {
        question: "–ß—Ç–æ —Ç–∞–∫–æ–µ –°–æ–≤–µ—Ç –¥–æ–º–∞?",
        answer: "–°–æ–≤–µ—Ç –¥–æ–º–∞ ‚Äî —ç—Ç–æ –æ—Ä–≥–∞–Ω, —Å–æ—Å—Ç–æ—è—â–∏–π –º–∏–Ω–∏–º—É–º –∏–∑ 3 —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª—è, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å—ã –∂–∏–ª—å—Ü–æ–≤."
      },
      {
        question: "–ú–æ–∂–µ—Ç –ª–∏ –ø—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª—å –û–°–ò —Å–Ω–∏–º–∞—Ç—å –¥–µ–Ω—å–≥–∏ —Å–æ —Å—á–µ—Ç–∞ –±–µ–∑ –≤–µ–¥–æ–º–∞ –∂–∏–ª—å—Ü–æ–≤?",
        answer: "–ù–µ—Ç. –í—Å–µ —Ä–∞—Å—Ö–æ–¥—ã –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≥–æ–¥–æ–≤–æ–π —Å–º–µ—Ç–µ, —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–π –Ω–∞ –æ–±—â–µ–º —Å–æ–±—Ä–∞–Ω–∏–∏. –ü—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –ø–æ–¥–ø–∏—Å–∏, –Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ —Ü–µ–ª–µ–≤—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ä–µ–¥—Å—Ç–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –°–æ–≤–µ—Ç –¥–æ–º–∞ –∏ —Ä–µ–≤–∏–∑–∏–æ–Ω–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è. –õ—é–±–∞—è –∫—Ä—É–ø–Ω–∞—è —Ç—Ä–∞—Ç–∞ –≤–Ω–µ —Å–º–µ—Ç—ã —Ç—Ä–µ–±—É–µ—Ç —Ä–µ—à–µ–Ω–∏—è —Å–æ–±—Ä–∞–Ω–∏—è."
      },
      {
        question: "–ì–¥–µ —è –º–æ–≥—É —É–≤–∏–¥–µ—Ç—å, –Ω–∞ —á—Ç–æ —Ç—Ä–∞—Ç—è—Ç—Å—è –º–æ–∏ –¥–µ–Ω—å–≥–∏ –¥–ª—è –û–°–ò?",
        answer: "–û–°–ò –æ–±—è–∑–∞–Ω—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –µ–∂–µ–º–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é –¥–æ–º–∞ –≤ –±—É–º–∞–∂–Ω–æ–º –∏–ª–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º –≤–∏–¥–µ. –í—ã —Ç–∞–∫–∂–µ –∏–º–µ–µ—Ç–µ –ø—Ä–∞–≤–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –≤—ã–ø–∏—Å–∫–∏ –ø–æ –±–∞–Ω–∫–æ–≤—Å–∫–∏–º —Å—á–µ—Ç–∞–º –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–µ—Ä–≤–∏—á–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (—á–µ–∫–∏, –¥–æ–≥–æ–≤–æ—Ä—ã) —á–µ—Ä–µ–∑ –°–æ–≤–µ—Ç –¥–æ–º–∞ –∏–ª–∏ —Ä–µ–≤–∏–∑–∏–æ–Ω–Ω—É—é –∫–æ–º–∏—Å—Å–∏—é."
      },
      {
        question: "–ù–∞ —á—Ç–æ –∏–¥—É—Ç –Ω–∞—à–∏ –µ–∂–µ–º–µ—Å—è—á–Ω—ã–µ –≤–∑–Ω–æ—Å—ã?",
        answer: "–í–∑–Ω–æ—Å—ã –∏–¥—É—Ç –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–º –∫–æ–Ω–¥–æ–º–∏–Ω–∏—É–º–∞, —Ç–µ–∫—É—â–∏–π —Ä–µ–º–æ–Ω—Ç, —Å–∞–Ω–∏—Ç–∞—Ä–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (—É–±–æ—Ä–∫–∞), –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ª–∏—Ñ—Ç–æ–≤, –æ—Å–≤–µ—â–µ–Ω–∏–µ –º–µ—Å—Ç –æ–±—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –Ω–∞–ª–æ–≥–∏."
      },
      {
        question: "–î–æ–ª–∂–µ–Ω –ª–∏ —è –ø–ª–∞—Ç–∏—Ç—å –≤–∑–Ω–æ—Å—ã, –µ—Å–ª–∏ —è –Ω–µ –∂–∏–≤—É –≤ —Å–≤–æ–µ–π –∫–≤–∞—Ä—Ç–∏—Ä–µ?",
        answer: "–î–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ –æ—Ç –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–±—â–µ–µ –∏–º—É—â–µ—Å—Ç–≤–æ –¥–æ–º–∞. –°–æ–≥–ª–∞—Å–Ω–æ –∑–∞–∫–æ–Ω—É, –≤—ã –æ–±—è–∑–∞–Ω—ã –ø–ª–∞—Ç–∏—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ, –∞ —Ç–∞–∫–∂–µ –≤–∑–Ω–æ—Å—ã –Ω–∞ –∫–∞–ø—Ä–µ–º–æ–Ω—Ç."
      },
      {
        question: "–ö—É–¥–∞ –æ–±—Ä–∞—â–∞—Ç—å—Å—è, –µ—Å–ª–∏ —É –º–µ–Ω—è –µ—Å—Ç—å –ø—Ä–µ—Ç–µ–Ω–∑–∏–∏ –∫ —Ä–∞–±–æ—Ç–µ –û–°–ò?",
        answer: "1. –ö –°–æ–≤–µ—Ç—É –¥–æ–º–∞ –∏–ª–∏ –†–µ–≤–∏–∑–∏–æ–Ω–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–∏ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏. 2. –í –ñ–∏–ª–∏—â–Ω—É—é –∏–Ω—Å–ø–µ–∫—Ü–∏—é –ø—Ä–∏ –∞–∫–∏–º–∞—Ç–µ (–æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –û–°–ò). 3. –í —Å—É–¥, –µ—Å–ª–∏ –Ω–∞—Ä—É—à–µ–Ω—ã –≤–∞—à–∏ –ø—Ä–∞–≤–∞ –∫–∞–∫ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ –∏–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Ö–∏—â–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤."
      },
      {
        question: "–í –∫–∞–∫–∏–µ —Å—Ä–æ–∫–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–±—Ä–∞–Ω –º—É—Å–æ—Ä –≤ —Å–ª—É—á–∞–µ –µ–≥–æ –Ω–∞–≤–∞–ª–∞ –Ω–∞ –ø—Ä–∏–¥–æ–º–æ–≤–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏?",
        answer: "–ï—Å–ª–∏ –æ–±—ä–µ–º –º—É—Å–æ—Ä–∞ –¥–æ 1,0 –º¬≥, –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–±—Ä–∞–Ω –Ω–µ –±–æ–ª–µ–µ —á–µ–º –∑–∞ 1 —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∏ –∏–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è. –ï—Å–ª–∏ –æ–±—ä–µ–º 1,1 –º¬≥ –∏ –±–æ–ª–µ–µ, —Ç–æ –Ω–µ –±–æ–ª–µ–µ 2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π."
      },
      {
        question: "–ö–∞–∫–∏–µ –≤–∏–¥—ã –∫–∞–ø–∏—Ç–∞–ª—å–Ω—ã—Ö —Ä–µ–º–æ–Ω—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç?",
        answer: "–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–∏–¥ (—Ä–µ–º–æ–Ω—Ç –∫—Ä–æ–≤–ª–∏, –ø–æ–¥—ä–µ–∑–¥–∞, –ø–æ–¥–≤–∞–ª–∞) –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π (–ø–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã—Ö —Å–µ—Ç–µ–π, –ª–∏—Ñ—Ç–æ–≤, —Ä–µ–º–æ–Ω—Ç —Ñ–∞—Å–∞–¥–∞ –∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞). –†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—Ä–∞–Ω–∏–∏."
      },
      {
        question: "–ß—Ç–æ —Ç–∞–∫–æ–µ '–ê–≤–∞—Ä–∏–π–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ'?",
        answer: "–≠—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–¥–∞–Ω–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –µ–≥–æ –¥–∞–ª—å–Ω–µ–π—à–∞—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è –∂–∏–∑–Ω–∏ –ª—é–¥–µ–π –∏–∑-–∑–∞ –ø–æ—Ç–µ—Ä–∏ –Ω–µ—Å—É—â–µ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. –°—Ç–∞—Ç—É—Å –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –∫–æ–º–∏—Å—Å–∏–µ–π."
      }
    ];
  }
}
